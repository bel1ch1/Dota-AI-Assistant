from ai.pipelines.data_pipe.utils.llm_chains import domen_segmentation_chain

output = {
        "domain": "HeroMechanicsTips",
        "text": "**Изменения в патче:**\n- Врождёнка (ранее аспект) теперь отталкивает крипов и героев при убийстве, а также наносит урон целям, через которых проходит убитый враг.\n- Аспекты:\n  - Левый: Усиливает авторшок, увеличивая его радиус на 40% за каждый уровень.\n  - Правый: Добавляет фиссуре волны урона (60% от базового), но менее эффективен, чем левый.\n\n**Способности:**\n- **Фиссура:** Наносит урон и блокирует путь для крипов/врагов. Может быть активирована дистанционно для дополнительного стэна.\n- **Тотем:** Усиливает белый урон (статы), но не зелёный (предметы).\n- **Авторшок:** Контролирует цели, продлевая стэны от всех скилов.\n- **Слэм:** Основной скилл для рампажа и контроля в бою.\n\n**Рекомендации по билду:**\n- **Арты:**\n  - Блинк-даггер для мобильности.\n  - Каюта, Шардик, Травелерс.\n  - Агоним (альтернатива блинка) для поддержки тотема и сплэш-урона.\n  - Шарт для усиления фиссуры (доп. стэны).\n- **Таланты:**\n  - 15-й: Улучшение фиссуры.\n  - 20-й: 50% урона от тотема (редко используется).\n  - 25-й: Варианты — КД для частого спама скилов или альтернатива слэму."
      }

texts = output["text"]

res = domen_segmentation_chain(texts)
for segment in res["segments"]:
    print(segment["title"])
    print(segment["text"])
